{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nexport default class PhotoFetcher {\n  constructor() {\n    this.search = ' ';\n    this.page = 1;\n  }\n\n  async fetchPhotos() {\n    try {\n      const url = `https://pixabay.com/api/?key=42494540-1ca0643de0a334de28e64a581&q=${this.search}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=15`;\n      const response = await axios.get(url);\n\n      if (!response.data.hits.length) {\n        iziToast.error({\n          timeout: 1000,\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n      this.page += 1;\n      console.log('Після запиту, якщо все ок:', this);\n      return response.data;\n    } catch (error) {\n      console.error('Error', error);\n    }\n  }\n}\n","export function createMarkup(data) {\n  return data.hits\n    .map(\n      data =>\n        `<li class=\"image-search\">\n        <a class=\"gallery-link\" href=\"${data.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"/>\n        </a>\n        <ul class=\"gallery-image-info\">\n          <li class=\"image-items\">\n            <p class=\"image-info\"><span class=\"text\">Likes</span>${data.likes}</p>\n            <p class=\"image-info\"><span class=\"text\">Views</span>${data.views}</p>\n            <p class=\"image-info\"><span class=\"text\">Comments</span>${data.comments}</p>\n            <p class=\"image-info\"><span class=\"text\">Downloads</span>${data.downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport PhotoFetcher from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.searchForm');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.loadMoreBtn');\nconst loader = document.querySelector('.loader');\nconst photoFetcher = new PhotoFetcher();\nconsole.log(photoFetcher);\n\nphotoFetcher.fetchPhotos();\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 150,\n});\n\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  console.log(searchForm.elements.search.value);\n  const search = searchForm.elements.search.value;\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n  if (search === '') {\n    iziToast.error({\n    message: 'Будь ласка, введіть пошуковий запит.',\n    });\n    return;\n  }\n\n  PhotoFetcher(search)\n    .then(res => {\n      console.log(res);\n      gallery.innerHTML = createMarkup(res);\n      lightbox.refresh();\n    })\n    .then(data => {\n      loader.style.display = 'none';\n    })\n    .catch(error => {\n      console.error('Error fetching data!', error);\n    });\n\n  searchForm.reset();\n});\n\n"],"names":["PhotoFetcher","url","response","axios","iziToast","error","createMarkup","data","searchForm","gallery","loader","photoFetcher","lightbox","SimpleLightbox","e","search","res"],"mappings":"owBAKe,MAAMA,CAAa,CAChC,aAAc,CACZ,KAAK,OAAS,IACd,KAAK,KAAO,CACb,CAED,MAAM,aAAc,CAClB,GAAI,CACF,MAAMC,EAAM,qEAAqE,KAAK,MAAM,iEAAiE,KAAK,IAAI,eAChKC,EAAW,MAAMC,EAAM,IAAIF,CAAG,EAEpC,OAAKC,EAAS,KAAK,KAAK,QACtBE,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,0EACZ,CAAS,EAGH,KAAK,MAAQ,EACb,QAAQ,IAAI,6BAA8B,IAAI,EACvCF,EAAS,IACjB,OAAQG,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,CAC7B,CACF,CACH,CChCO,SAASC,EAAaC,EAAM,CACjC,OAAOA,EAAK,KACT,IACCA,GACE;AAAA,wCACgCA,EAAK,aAAa;AAAA,0CAChBA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,mEAIXA,EAAK,KAAK;AAAA,mEACVA,EAAK,KAAK;AAAA,sEACPA,EAAK,QAAQ;AAAA,uEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,YAIhF,EACA,KAAK,EAAE,CACZ,CCNA,MAAMC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAU,SAAS,cAAc,UAAU,EAC7B,SAAS,cAAc,cAAc,EACzD,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,IAAIX,EACzB,QAAQ,IAAIW,CAAY,EAExBA,EAAa,YAAW,EACxB,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAGDL,EAAW,iBAAiB,SAAUM,GAAK,CACzCA,EAAE,eAAc,EAChB,QAAQ,IAAIN,EAAW,SAAS,OAAO,KAAK,EAC5C,MAAMO,EAASP,EAAW,SAAS,OAAO,MAG1C,GAFAC,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QACnBK,IAAW,GAAI,CACjBX,EAAS,MAAM,CACf,QAAS,sCACb,CAAK,EACD,MACD,CAEDJ,EAAae,CAAM,EAChB,KAAKC,GAAO,CACX,QAAQ,IAAIA,CAAG,EACfP,EAAQ,UAAYH,EAAaU,CAAG,EACpCJ,EAAS,QAAO,CACtB,CAAK,EACA,KAAKL,GAAQ,CACZG,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAML,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,EAEHG,EAAW,MAAK,CAClB,CAAC"}